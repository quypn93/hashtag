@model HomeIndexViewModel
@{
    ViewData["Title"] = "T√¨m Hashtag TikTok Trending - C√¥ng C·ª• T√¨m Ki·∫øm Hashtag Viral";
    ViewData["Description"] = "C√¥ng c·ª• t√¨m ki·∫øm hashtag TikTok trending mi·ªÖn ph√≠. T√¨m hashtag viral, hashtag hot, hashtag xu h∆∞·ªõng ƒë·ªÉ tƒÉng view, tƒÉng t∆∞∆°ng t√°c cho video TikTok c·ªßa b·∫°n.";
    ViewData["Keywords"] = "t√¨m hashtag tiktok, hashtag trending, hashtag viral, hashtag tiktok hot, t√¨m ki·∫øm hashtag, c√¥ng c·ª• hashtag, hashtag xu h∆∞·ªõng, tƒÉng view tiktok, tƒÉng t∆∞∆°ng t√°c tiktok";
    Layout = "_LayoutPublic";
}

<div class="home-hero text-center py-5">
    <div class="container">
        <h1 class="display-3 fw-bold mb-3">
            <i class="bi bi-hash-square text-primary"></i> T√¨m Hashtag TikTok Trending Viral
        </h1>
        <p class="lead text-muted mb-5">
            C√¥ng c·ª• ph√¢n t√≠ch v√† t√¨m ki·∫øm hashtag trending mi·ªÖn ph√≠ - C·∫≠p nh·∫≠t real-time m·ªói 6 gi·ªù t·ª´ TikTok Vi·ªát Nam
        </p>

        <div class="search-container search-container-max mx-auto p-0 p-sm-2">
            <form asp-controller="Hashtag" asp-action="Search" method="get" class="position-relative">
                <div class="input-group search-input-height shadow-lg rounded-pill overflow-hidden">
                    <span class="input-group-text bg-white border-0 ps-4 d-flex align-items-center">
                        <i class="bi bi-search text-primary fs-4"></i>
                    </span>
                    <input
                        type="text"
                        class="form-control search-input-font border-0 ps-2 fs-5"
                        id="searchInput"
                        name="q"
                        placeholder="T√¨m ki·∫øm hashtag... (VD: dulich, amnhac, thethao)"
                        autocomplete="off"
                        required
                    />
                    <button class="btn btn-primary search-btn-radius px-5 border-0 fs-5 fw-semibold" type="submit">
                        <i class="bi bi-search me-2"></i>T√¨m Ki·∫øm
                    </button>
                </div>

                <!-- Auto-suggest dropdown -->
                <div id="suggestionsDropdown" class="suggestions-dropdown list-group position-absolute w-100 mt-2 shadow-lg rounded-3"></div>
            </form>

            <div class="mt-4 text-muted">
                <i class="bi bi-lightbulb text-warning"></i>
                <small>Th·ª≠ t√¨m ki·∫øm: "bongda", "amnhac", "dulich" ho·∫∑c "amthuc"</small>
            </div>
        </div>

        <div class="row mt-5 g-4">
            <div class="col-md-4">
                <a href="/Analytics/Growth" class="text-decoration-none">
                    <div class="card card-hashtag border-0 h-100 feature-card-hover feature-card-primary">
                        <div class="card-body text-center text-white p-4">
                            <div class="feature-icon bg-white bg-opacity-25 rounded-circle d-inline-flex align-items-center justify-content-center mb-3">
                                <i class="bi bi-graph-up-arrow fs-3"></i>
                            </div>
                            <h5 class="card-title fw-bold mb-3">Trending Real-time</h5>
                            <p class="card-text opacity-90">
                                C·∫≠p nh·∫≠t hashtag trending m·ªõi nh·∫•t m·ªói 6 gi·ªù t·ª´ nhi·ªÅu ngu·ªìn uy t√≠n
                            </p>
                            <small class="d-block mt-2 opacity-75"><i class="bi bi-arrow-right-circle me-1"></i>Theo d√µi tƒÉng tr∆∞·ªüng</small>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-md-4">
                <a href="/" class="text-decoration-none">
                    <div class="card card-hashtag border-0 h-100 feature-card-hover feature-card-secondary">
                        <div class="card-body text-center text-white p-4">
                            <div class="feature-icon bg-white bg-opacity-25 rounded-circle d-inline-flex align-items-center justify-content-center mb-3">
                                <i class="bi bi-database fs-3"></i>
                            </div>
                            <h5 class="card-title fw-bold mb-3">ƒêa Ngu·ªìn D·ªØ Li·ªáu</h5>
                            <p class="card-text opacity-90">
                                Thu th·∫≠p t·ª´ TikTok v√† nhi·ªÅu n·ªÅn t·∫£ng kh√°c
                            </p>
                            <small class="d-block mt-2 opacity-75"><i class="bi bi-arrow-right-circle me-1"></i>Xem hashtag trending</small>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-md-4">
                <a href="/Hashtag/Generator" class="text-decoration-none">
                    <div class="card card-hashtag border-0 h-100 feature-card-hover feature-card-info">
                        <div class="card-body text-center text-white p-4">
                            <div class="feature-icon bg-white bg-opacity-25 rounded-circle d-inline-flex align-items-center justify-content-center mb-3">
                                <i class="bi bi-stars fs-3"></i>
                            </div>
                            <h5 class="card-title fw-bold mb-3">G·ª£i √ù Th√¥ng Minh</h5>
                            <p class="card-text opacity-90">
                                Nh·∫≠n ƒë·ªÅ xu·∫•t hashtag th√¥ng minh ngay khi b·∫°n g√µ t·ª´ kh√≥a
                            </p>
                            <small class="d-block mt-2 opacity-75"><i class="bi bi-arrow-right-circle me-1"></i>T·∫°o hashtag AI</small>
                        </div>
                    </div>
                </a>
            </div>
        </div>

        <!-- Value Propositions -->
        <div class="row mt-5 text-center">
            <div class="col-md-3 col-sm-6 mb-4">
                <div class="value-card p-4 h-100">
                    <i class="bi bi-clock-history fs-1 text-primary mb-3"></i>
                    <h5 class="fw-bold">C·∫≠p Nh·∫≠t M·ªói 6 Gi·ªù</h5>
                    <p class="text-muted small">D·ªØ li·ªáu trending realtime t·ª´ TikTok v√† nhi·ªÅu ngu·ªìn uy t√≠n kh√°c</p>
                </div>
            </div>
            <div class="col-md-3 col-sm-6 mb-4">
                <div class="value-card p-4 h-100">
                    <i class="bi bi-shield-check fs-1 text-success mb-3"></i>
                    <h5 class="fw-bold">100% Mi·ªÖn Ph√≠</h5>
                    <p class="text-muted small">Kh√¥ng c·∫ßn ƒëƒÉng k√Ω t√†i kho·∫£n, kh√¥ng gi·ªõi h·∫°n s·ªë l·∫ßn tra c·ª©u hashtag</p>
                </div>
            </div>
            <div class="col-md-3 col-sm-6 mb-4">
                <div class="value-card p-4 h-100">
                    <i class="bi bi-graph-up-arrow fs-1 text-warning mb-3"></i>
                    <h5 class="fw-bold">Ph√¢n T√≠ch Chuy√™n S√¢u</h5>
                    <p class="text-muted small">ƒê·ªô kh√≥ c·∫°nh tranh, l∆∞·ª£t xem, s·ªë b√†i ƒëƒÉng chi ti·∫øt cho m·ªói hashtag trending</p>
                </div>
            </div>
            <div class="col-md-3 col-sm-6 mb-4">
                <div class="value-card p-4 h-100">
                    <i class="bi bi-grid-3x3-gap fs-1 text-info mb-3"></i>
                    <h5 class="fw-bold">16+ Ch·ªß ƒê·ªÅ</h5>
                    <p class="text-muted small">T·ª´ Gi√°o D·ª•c, Tin T·ª©c ƒë·∫øn Du L·ªãch, Th·ªÉ Thao - t√¨m hashtag theo ng√†nh d·ªÖ d√†ng</p>
                </div>
            </div>
        </div>

        <!-- How It Works Section -->
        <div class="row mt-5 mb-4">
            <div class="col-lg-10 mx-auto">
                <div class="text-center mb-5">
                    <h2 class="fw-bold mb-3">
                        <i class="bi bi-lightbulb text-warning me-2"></i>
                        C√°ch S·ª≠ D·ª•ng TrendTag Hi·ªáu Qu·∫£
                    </h2>
                    <p class="text-muted">3 b∆∞·ªõc ƒë∆°n gi·∫£n ƒë·ªÉ t√¨m hashtag trending ph√π h·ª£p v·ªõi n·ªôi dung c·ªßa b·∫°n</p>
                </div>

                <div class="row g-4">
                    <div class="col-md-4">
                        <div class="how-it-works-card text-center p-4 h-100 border rounded-4 shadow-sm">
                            <div class="step-number step-number-primary mx-auto mb-3">
                                <span class="text-white fw-bold fs-4">1</span>
                            </div>
                            <h5 class="fw-bold mb-3">Ch·ªçn Ch·ªß ƒê·ªÅ</h5>
                            <p class="text-muted small">
                                L·ªçc hashtag theo ch·ªß ƒë·ªÅ ph√π h·ª£p v·ªõi n·ªôi dung c·ªßa b·∫°n: Gi√°o D·ª•c, Du L·ªãch, Th·ªùi Trang, C√¥ng Ngh·ªá, v.v. C√≥ 16+ ch·ªß ƒë·ªÅ ƒë·ªÉ l·ª±a ch·ªçn.
                            </p>
                            <div class="mt-3">
                                <i class="bi bi-grid-3x3-gap text-primary icon-xl"></i>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-4">
                        <div class="how-it-works-card text-center p-4 h-100 border rounded-4 shadow-sm">
                            <div class="step-number step-number-secondary mx-auto mb-3">
                                <span class="text-white fw-bold fs-4">2</span>
                            </div>
                            <h5 class="fw-bold mb-3">Ph√¢n T√≠ch Hashtag</h5>
                            <p class="text-muted small">
                                Xem s·ªë l∆∞·ª£t xem, s·ªë b√†i ƒëƒÉng, v√† m·ª©c ƒë·ªô c·∫°nh tranh c·ªßa m·ªói hashtag. Ch·ªçn hashtag c√≥ m·ª©c ƒë·ªô c·∫°nh tranh <strong>Th·∫•p</strong> ho·∫∑c <strong>Trung B√¨nh</strong> ƒë·ªÉ d·ªÖ viral h∆°n.
                            </p>
                            <div class="mt-3">
                                <i class="bi bi-bar-chart-line text-success icon-xl"></i>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-4">
                        <div class="how-it-works-card text-center p-4 h-100 border rounded-4 shadow-sm">
                            <div class="step-number step-number-info mx-auto mb-3">
                                <span class="text-white fw-bold fs-4">3</span>
                            </div>
                            <h5 class="fw-bold mb-3">Sao Ch√©p & ƒêƒÉng Video</h5>
                            <p class="text-muted small">
                                Click v√†o hashtag ƒë·ªÉ xem chi ti·∫øt v√† sao ch√©p. S·ª≠ d·ª•ng 3-5 hashtag trending k·∫øt h·ª£p v·ªõi 2-3 hashtag ng√°ch ƒë·ªÉ t·ªëi ∆∞u reach v√† engagement.
                            </p>
                            <div class="mt-3">
                                <i class="bi bi-rocket-takeoff text-warning icon-xl"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="alert alert-info border-0 shadow-sm mt-4 rounded-4" role="alert">
                    <div class="d-flex align-items-start">
                        <i class="bi bi-info-circle-fill me-3 mt-1 icon-lg"></i>
                        <div>
                            <h6 class="fw-bold mb-2">üí° M·∫πo Pro:</h6>
                            <p class="mb-0 small">
                                K·∫øt h·ª£p hashtag <strong>trending c√≥ m·ª©c ƒë·ªô c·∫°nh tranh Th·∫•p</strong> v·ªõi hashtag ng√°ch (niche) c·ªßa b·∫°n ƒë·ªÉ video d·ªÖ l√™n FYP h∆°n.
                                V√≠ d·ª•: #dulich (trending, c·∫°nh tranh cao) + #dulichdalat2025 (ng√°ch, c·∫°nh tranh th·∫•p) = TƒÉng c∆° h·ªôi viral!
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Top 10 Trending Hashtags -->
        <div class="mt-5">
            <div class="card border-0 shadow-lg rounded-4">
                <div class="card-header card-header-gradient-primary text-white py-3">
                    <div class="d-flex justify-content-between align-items-center flex-wrap gap-3">
                        <div class="d-flex align-items-center gap-3">
                            <h4 class="mb-0 fw-bold text-black">
                                <i class="bi bi-fire me-2"></i>Top 10 Hashtag Trending
                            </h4>
                            @if (Model.SelectedCategoryId.HasValue)
                            {
                                var selectedCategory = Model.Categories.FirstOrDefault(c => c.Id == Model.SelectedCategoryId.Value);
                                if (selectedCategory != null)
                                {
                                    <span id="categoryLabel" class="badge bg-white bg-opacity-25 px-3 py-2">
                                        <i class="bi bi-tag-fill me-1"></i>
                                        @(!string.IsNullOrEmpty(selectedCategory.DisplayNameVi) ? selectedCategory.DisplayNameVi : selectedCategory.Name)
                                    </span>
                                }
                            }
                        </div>
                        <select id="categorySelect" class="form-select form-select-sm border-white text-dark min-w-200" onchange="filterByCategory(this)">
                            <option value="">T·∫•t C·∫£ Ch·ªß ƒê·ªÅ</option>
                            @foreach (var category in Model.Categories)
                            {
                                <option value="@category.Id"
                                        data-slug="@category.Slug"
                                        data-name="@(!string.IsNullOrEmpty(category.DisplayNameVi) ? category.DisplayNameVi : category.Name)"
                                        selected="@(Model.SelectedCategoryId == category.Id)">
                                    @(!string.IsNullOrEmpty(category.DisplayNameVi) ? category.DisplayNameVi : category.Name)
                                </option>
                            }
                        </select>
                    </div>
                </div>
                <div class="card-body p-0">
                    @if (Model.TopHashtags.Any())
                    {
                        <div class="table-responsive">
                            <table id="hashtagTable" class="table table-hover mb-0 align-middle">
                                <thead class="table-light">
                                    <tr>
                                        <th class="ps-4 w-60px">#</th>
                                        <th>Hashtag</th>
                                        <th class="text-center">Ch·ªß ƒê·ªÅ</th>
                                        <th class="text-center">L∆∞·ª£t Xem</th>
                                        <th class="text-center">S·ªë B√†i ƒêƒÉng</th>
                                        <th class="text-center">M·ª©c ƒê·ªô C·∫°nh Tranh</th>
                                        <th class="text-center">H·∫°ng</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @for (int i = 0; i < Model.TopHashtags.Count; i++)
                                    {
                                        var hashtag = Model.TopHashtags[i];
                                        var viewCountFormatted = hashtag.LatestViewCount.HasValue && hashtag.LatestViewCount > 0
                                            ? (hashtag.LatestViewCount.Value >= 1_000_000_000
                                                ? $"{hashtag.LatestViewCount.Value / 1_000_000_000.0:F1}B"
                                                : hashtag.LatestViewCount.Value >= 1_000_000
                                                    ? $"{hashtag.LatestViewCount.Value / 1_000_000.0:F1}M"
                                                    : hashtag.LatestViewCount.Value >= 1000
                                                        ? $"{hashtag.LatestViewCount.Value / 1000.0:F1}K"
                                                        : hashtag.LatestViewCount.Value.ToString("N0"))
                                            : "-";

                                        var postCountFormatted = hashtag.LatestPostCount.HasValue && hashtag.LatestPostCount > 0
                                            ? (hashtag.LatestPostCount.Value >= 1_000_000_000
                                                ? $"{hashtag.LatestPostCount.Value / 1_000_000_000.0:F1}B"
                                                : hashtag.LatestPostCount.Value >= 1_000_000
                                                    ? $"{hashtag.LatestPostCount.Value / 1_000_000.0:F1}M"
                                                    : hashtag.LatestPostCount.Value >= 1000
                                                        ? $"{hashtag.LatestPostCount.Value / 1000.0:F1}K"
                                                        : hashtag.LatestPostCount.Value.ToString("N0"))
                                            : "-";

                                        var difficultyBadge = hashtag.DifficultyLevel switch
                                        {
                                            "Easy" => "badge bg-success",
                                            "Medium" => "badge bg-warning",
                                            "Hard" => "badge bg-danger",
                                            "Very Hard" => "badge bg-dark",
                                            _ => "badge bg-secondary"
                                        };

                                        var difficultyVi = hashtag.DifficultyLevel switch
                                        {
                                            "Easy" => "Th·∫•p",
                                            "Medium" => "Trung B√¨nh",
                                            "Hard" => "Cao",
                                            "Very Hard" => "R·∫•t Cao",
                                            _ => hashtag.DifficultyLevel
                                        };

                                        var rankBadge = i < 3 ? "badge bg-warning text-dark" : "badge bg-secondary";

                                        <tr class="clickable-row" onclick="window.location.href='/hashtag/@hashtag.Tag'">
                                            <td class="ps-4 fw-bold text-muted">@(i + 1)</td>
                                            <td>
                                                <a href="/hashtag/@hashtag.Tag" class="text-decoration-none">
                                                    <strong class="text-primary fs-5">@hashtag.TagDisplay</strong>
                                                    <div class="text-muted small">
                                                        <i class="bi bi-bar-chart"></i> @hashtag.TotalAppearances l·∫ßn xu·∫•t hi·ªán
                                                    </div>
                                                </a>
                                            </td>
                                            <td class="text-center">
                                                @if (!string.IsNullOrEmpty(hashtag.CategoryName))
                                                {
                                                    <span class="badge bg-info">@hashtag.CategoryName</span>
                                                }
                                                else
                                                {
                                                    <span class="text-muted">-</span>
                                                }
                                            </td>
                                            <td class="text-center">
                                                <strong class="text-danger">@viewCountFormatted</strong>
                                            </td>
                                            <td class="text-center">
                                                <strong class="text-success">@postCountFormatted</strong>
                                            </td>
                                            <td class="text-center">
                                                @if (!string.IsNullOrEmpty(hashtag.DifficultyLevel))
                                                {
                                                    <span class="@difficultyBadge">@difficultyVi</span>
                                                }
                                                else
                                                {
                                                    <span class="text-muted">-</span>
                                                }
                                            </td>
                                            <td class="text-center">
                                                <span class="@rankBadge">#@hashtag.BestRank</span>
                                            </td>
                                        </tr>
                                    }
                                </tbody>
                            </table>
                        </div>
                    }
                    else
                    {
                        <div class="text-center py-5 text-muted">
                            <i class="bi bi-inbox fs-1 d-block mb-3"></i>
                            <p>Ch∆∞a c√≥ hashtag trending n√†o</p>
                        </div>
                    }
                </div>
            </div>
        </div>

        <!-- FAQ Section -->
        <div class="faq-section bg-gradient-vertical-light mt-5 py-5">
            <div class="container">
                <div class="row">
                    <div class="col-lg-10 mx-auto">
                        <div class="text-center mb-5">
                            <h2 class="fw-bold mb-3">
                                <i class="bi bi-question-circle text-primary me-2"></i>
                                C√¢u H·ªèi Th∆∞·ªùng G·∫∑p (FAQ)
                            </h2>
                            <p class="text-muted">T·∫•t c·∫£ nh·ªØng g√¨ b·∫°n c·∫ßn bi·∫øt v·ªÅ hashtag TikTok trending v√† c√°ch s·ª≠ d·ª•ng TrendTag</p>
                        </div>

                        <div class="accordion accordion-flush" id="faqAccordion">
                            <!-- FAQ 1 -->
                            <div class="accordion-item border rounded-3 mb-3 shadow-sm">
                                <h3 class="accordion-header">
                                    <button class="accordion-button collapsed fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#faq1">
                                        Hashtag TikTok trending l√† g√¨?
                                    </button>
                                </h3>
                                <div id="faq1" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        <strong>Hashtag TikTok trending</strong> l√† nh·ªØng hashtag ƒëang ƒë∆∞·ª£c s·ª≠ d·ª•ng nhi·ªÅu nh·∫•t tr√™n TikTok t·∫°i m·ªôt th·ªùi ƒëi·ªÉm c·ª• th·ªÉ.
                                        S·ª≠ d·ª•ng hashtag trending gi√∫p video c·ªßa b·∫°n ti·∫øp c·∫≠n nhi·ªÅu ng∆∞·ªùi xem h∆°n, tƒÉng t∆∞∆°ng t√°c v√† c√≥ c∆° h·ªôi cao h∆°n ƒë·ªÉ xu·∫•t hi·ªán tr√™n trang For You (FYP).
                                        TrendTag c·∫≠p nh·∫≠t danh s√°ch hashtag trending m·ªói 6 gi·ªù ƒë·ªÉ ƒë·∫£m b·∫£o b·∫°n lu√¥n c√≥ d·ªØ li·ªáu m·ªõi nh·∫•t.
                                    </div>
                                </div>
                            </div>

                            <!-- FAQ 2 -->
                            <div class="accordion-item border rounded-3 mb-3 shadow-sm">
                                <h3 class="accordion-header">
                                    <button class="accordion-button collapsed fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#faq2">
                                        C√°ch ch·ªçn hashtag TikTok hi·ªáu qu·∫£ nh·∫•t?
                                    </button>
                                </h3>
                                <div id="faq2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        ƒê·ªÉ ch·ªçn hashtag hi·ªáu qu·∫£, h√£y k·∫øt h·ª£p <strong>3-5 hashtag trending c√≥ m·ª©c ƒë·ªô c·∫°nh tranh Th·∫•p ho·∫∑c Trung B√¨nh</strong> v·ªõi <strong>2-3 hashtag ng√°ch (niche)</strong> li√™n quan ƒë·∫øn n·ªôi dung c·ªßa b·∫°n.
                                        V√≠ d·ª•: N·∫øu b·∫°n l√†m video v·ªÅ du l·ªãch ƒê√† L·∫°t, h√£y k·∫øt h·ª£p #dulich (trending, c·∫°nh tranh cao) v·ªõi #dulichdalat2025 (ng√°ch, c·∫°nh tranh th·∫•p).
                                        Chi·∫øn l∆∞·ª£c n√†y gi√∫p tƒÉng c∆° h·ªôi viral trong c·∫£ nh√≥m ƒë·ªëi t∆∞·ª£ng r·ªông l·∫´n ƒë·ªëi t∆∞·ª£ng m·ª•c ti√™u c·ª• th·ªÉ.
                                    </div>
                                </div>
                            </div>

                            <!-- FAQ 3 -->
                            <div class="accordion-item border rounded-3 mb-3 shadow-sm">
                                <h3 class="accordion-header">
                                    <button class="accordion-button collapsed fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#faq3">
                                        TrendTag c·∫≠p nh·∫≠t d·ªØ li·ªáu hashtag bao l√¢u m·ªôt l·∫ßn?
                                    </button>
                                </h3>
                                <div id="faq3" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        TrendTag t·ª± ƒë·ªông c·∫≠p nh·∫≠t d·ªØ li·ªáu hashtag <strong>m·ªói 6 gi·ªù</strong> t·ª´ nhi·ªÅu ngu·ªìn uy t√≠n nh∆∞ TikTok Creative Center v√† c√°c ngu·ªìn kh√°c.
                                        ƒêi·ªÅu n√†y ƒë·∫£m b·∫£o b·∫°n lu√¥n c√≥ danh s√°ch hashtag trending m·ªõi nh·∫•t v√† ch√≠nh x√°c nh·∫•t ƒë·ªÉ t·ªëi ∆∞u video c·ªßa m√¨nh.
                                    </div>
                                </div>
                            </div>

                            <!-- FAQ 4 -->
                            <div class="accordion-item border rounded-3 mb-3 shadow-sm">
                                <h3 class="accordion-header">
                                    <button class="accordion-button collapsed fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#faq4">
                                        M·ª©c ƒë·ªô c·∫°nh tranh c·ªßa hashtag l√† g√¨?
                                    </button>
                                </h3>
                                <div id="faq4" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        M·ª©c ƒë·ªô c·∫°nh tranh cho bi·∫øt ƒë·ªô kh√≥ ƒë·ªÉ video c·ªßa b·∫°n n·ªïi b·∫≠t khi s·ª≠ d·ª•ng hashtag ƒë√≥. TrendTag ph√¢n lo·∫°i th√†nh 4 m·ª©c:
                                        <ul class="mt-2 mb-0">
                                            <li>Th·∫•p: D·ªÖ viral, √≠t ng∆∞·ªùi d√πng ‚Üí Ph√π h·ª£p cho creator m·ªõi</li>
                                            <li>Trung B√¨nh: C∆° h·ªôi t·ªët n·∫øu n·ªôi dung ch·∫•t l∆∞·ª£ng</li>
                                            <li>Cao: Kh√≥ viral, nhi·ªÅu ng∆∞·ªùi d√πng ‚Üí C·∫ßn n·ªôi dung xu·∫•t s·∫Øc</li>
                                            <li>R·∫•t Cao: C·ª±c k·ª≥ c·∫°nh tranh ‚Üí Ch·ªâ ph√π h·ª£p creator l·ªõn</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>

                            <!-- FAQ 5 -->
                            <div class="accordion-item border rounded-3 mb-3 shadow-sm">
                                <h3 class="accordion-header">
                                    <button class="accordion-button collapsed fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#faq5">
                                        C√≥ n√™n s·ª≠ d·ª•ng hashtag viral c√≥ l∆∞·ª£t xem cao?
                                    </button>
                                </h3>
                                <div id="faq5" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        Kh√¥ng ho√†n to√†n. Hashtag viral c√≥ l∆∞·ª£t xem cao th∆∞·ªùng c√≥ m·ª©c ƒë·ªô c·∫°nh tranh R·∫•t Cao, khi·∫øn video c·ªßa b·∫°n d·ªÖ b·ªã "ch√¨m" trong h√†ng tri·ªáu video kh√°c.
                                        Thay v√†o ƒë√≥, h√£y ch·ªçn hashtag c√≥ l∆∞·ª£t xem v·ª´a ph·∫£i (100K-5M) v√† m·ª©c ƒë·ªô c·∫°nh tranh Th·∫•p-Trung B√¨nh ƒë·ªÉ tƒÉng c∆° h·ªôi l√™n FYP.
                                        TrendTag hi·ªÉn th·ªã c·∫£ s·ªë l∆∞·ª£t xem l·∫´n m·ª©c ƒë·ªô c·∫°nh tranh ƒë·ªÉ b·∫°n ƒë∆∞a ra quy·∫øt ƒë·ªãnh th√¥ng minh.
                                    </div>
                                </div>
                            </div>

                            <!-- FAQ 6 -->
                            <div class="accordion-item border rounded-3 mb-3 shadow-sm">
                                <h3 class="accordion-header">
                                    <button class="accordion-button collapsed fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#faq6">
                                        TrendTag c√≥ mi·ªÖn ph√≠ kh√¥ng?
                                    </button>
                                </h3>
                                <div id="faq6" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        100% mi·ªÖn ph√≠! TrendTag kh√¥ng y√™u c·∫ßu ƒëƒÉng k√Ω t√†i kho·∫£n, kh√¥ng gi·ªõi h·∫°n s·ªë l·∫ßn tra c·ª©u hashtag, v√† kh√¥ng c√≥ ph√≠ ·∫©n.
                                        T·∫•t c·∫£ t√≠nh nƒÉng ph√¢n t√≠ch hashtag, xem trending, theo d√µi m·ª©c ƒë·ªô c·∫°nh tranh ƒë·ªÅu ho√†n to√†n mi·ªÖn ph√≠ cho c·ªông ƒë·ªìng creator TikTok Vi·ªát Nam.
                                    </div>
                                </div>
                            </div>

                            <!-- FAQ 7 -->
                            <div class="accordion-item border rounded-3 mb-3 shadow-sm">
                                <h3 class="accordion-header">
                                    <button class="accordion-button collapsed fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#faq7">
                                        L√†m sao ƒë·ªÉ t√¨m hashtag theo ch·ªß ƒë·ªÅ c·ª• th·ªÉ?
                                    </button>
                                </h3>
                                <div id="faq7" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        TrendTag cung c·∫•p 16+ ch·ªß ƒë·ªÅ hashtag ƒë·ªÉ b·∫°n d·ªÖ d√†ng l·ªçc v√† t√¨m ki·∫øm. Ch·ªâ c·∫ßn ch·ªçn ch·ªß ƒë·ªÅ t·ª´ dropdown ·ªü ƒë·∫ßu trang (v√≠ d·ª•: Gi√°o D·ª•c, Du L·ªãch, Th·ªùi Trang, C√¥ng Ngh·ªá, v.v.)
                                        v√† h·ªá th·ªëng s·∫Ω t·ª± ƒë·ªông hi·ªÉn th·ªã top 10 hashtag trending trong ch·ªß ƒë·ªÅ ƒë√≥. B·∫°n c≈©ng c√≥ th·ªÉ s·ª≠ d·ª•ng thanh t√¨m ki·∫øm ƒë·ªÉ t√¨m hashtag c·ª• th·ªÉ.
                                    </div>
                                </div>
                            </div>

                            <!-- FAQ 8 -->
                            <div class="accordion-item border rounded-3 mb-3 shadow-sm">
                                <h3 class="accordion-header">
                                    <button class="accordion-button collapsed fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#faq8">
                                        N√™n d√πng bao nhi√™u hashtag trong m·ªôt video TikTok?
                                    </button>
                                </h3>
                                <div id="faq8" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        TikTok khuy·∫øn ngh·ªã s·ª≠ d·ª•ng 5-8 hashtag cho m·ªói video. C√¥ng th·ª©c hi·ªáu qu·∫£ nh·∫•t l√†:
                                        <ul class="mt-2 mb-0">
                                            <li>3-5 hashtag trending (m·ª©c ƒë·ªô c·∫°nh tranh Th·∫•p-Trung B√¨nh) ƒë·ªÉ tƒÉng reach</li>
                                            <li>2-3 hashtag ng√°ch (li√™n quan tr·ª±c ti·∫øp ƒë·∫øn n·ªôi dung) ƒë·ªÉ target ƒë√∫ng ƒë·ªëi t∆∞·ª£ng</li>
                                        </ul>
                                        Tr√°nh d√πng qu√° nhi·ªÅu hashtag (>10) v√¨ c√≥ th·ªÉ l√†m gi·∫£m hi·ªáu qu·∫£ v√† tr√¥ng spam.
                                    </div>
                                </div>
                            </div>

                            <!-- FAQ 9 -->
                            <div class="accordion-item border rounded-3 mb-3 shadow-sm">
                                <h3 class="accordion-header">
                                    <button class="accordion-button collapsed fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#faq9">
                                        Hashtag trending c√≥ thay ƒë·ªïi theo th·ªùi gian kh√¥ng?
                                    </button>
                                </h3>
                                <div id="faq9" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        C√≥, th∆∞·ªùng xuy√™n! Hashtag trending tr√™n TikTok thay ƒë·ªïi li√™n t·ª•c theo s·ª± ki·ªán, m√πa v·ª•, xu h∆∞·ªõng vƒÉn h√≥a v√† h√†nh vi ng∆∞·ªùi d√πng.
                                        M·ªôt hashtag c√≥ th·ªÉ trending h√¥m nay nh∆∞ng kh√¥ng c√≤n hi·ªáu qu·∫£ sau v√†i ng√†y ho·∫∑c v√†i tu·∫ßn.
                                        ƒê√≥ l√† l√Ω do TrendTag c·∫≠p nh·∫≠t d·ªØ li·ªáu m·ªói 6 gi·ªù ƒë·ªÉ ƒë·∫£m b·∫£o b·∫°n lu√¥n s·ª≠ d·ª•ng hashtag trending m·ªõi nh·∫•t.
                                    </div>
                                </div>
                            </div>

                            <!-- FAQ 10 -->
                            <div class="accordion-item border rounded-3 mb-3 shadow-sm">
                                <h3 class="accordion-header">
                                    <button class="accordion-button collapsed fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#faq10">
                                        TrendTag l·∫•y d·ªØ li·ªáu t·ª´ ƒë√¢u?
                                    </button>
                                </h3>
                                <div id="faq10" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        TrendTag thu th·∫≠p d·ªØ li·ªáu t·ª´ nhi·ªÅu ngu·ªìn uy t√≠n:
                                        <ul class="mt-2 mb-0">
                                            <li><a href="https://www.tiktok.com/business/vi/creative-center/" target="_blank" rel="nofollow noopener">TikTok Creative Center</a>: D·ªØ li·ªáu trending ch√≠nh th·ª©c t·ª´ TikTok</li>
                                            <li>TikTok API: S·ªë l∆∞·ª£t xem v√† s·ªë b√†i ƒëƒÉng realtime</li>
                                            <li>Social Analytics: D·ªØ li·ªáu ph√¢n t√≠ch engagement v√† tƒÉng tr∆∞·ªüng</li>
                                        </ul>
                                        T·∫•t c·∫£ d·ªØ li·ªáu ƒë∆∞·ª£c x·ª≠ l√Ω v√† ph√¢n t√≠ch b·∫±ng thu·∫≠t to√°n AI ƒë·ªÉ cho ra k·∫øt qu·∫£ ch√≠nh x√°c nh·∫•t.
                                        <br><br>
                                        T√¨m hi·ªÉu th√™m v·ªÅ <a href="https://www.tiktok.com/business/vi/blog/guide-to-tiktok-hashtags" target="_blank" rel="nofollow noopener">chi·∫øn l∆∞·ª£c hashtag TikTok</a> t·ª´ TikTok for Business.
                                    </div>
                                </div>
                            </div>

                            <!-- FAQ 11 -->
                            <div class="accordion-item border rounded-3 mb-3 shadow-sm">
                                <h3 class="accordion-header">
                                    <button class="accordion-button collapsed fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#faq11">
                                        Hashtag trending c√≥ gi√∫p tƒÉng follower kh√¥ng?
                                    </button>
                                </h3>
                                <div id="faq11" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        <strong>C√≥, nh∆∞ng gi√°n ti·∫øp.</strong> Hashtag trending gi√∫p video c·ªßa b·∫°n ti·∫øp c·∫≠n nhi·ªÅu ng∆∞·ªùi xem h∆°n (tƒÉng reach v√† impressions).
                                        Khi video c√≥ nhi·ªÅu l∆∞·ª£t xem v√† t∆∞∆°ng t√°c cao, thu·∫≠t to√°n TikTok s·∫Ω ƒë·∫©y video l√™n For You Page (FYP) r·ªông h∆°n, t·ª´ ƒë√≥ tƒÉng c∆° h·ªôi ƒë∆∞·ª£c follow.
                                        Tuy nhi√™n, y·∫øu t·ªë quan tr·ªçng nh·∫•t v·∫´n l√† <strong>ch·∫•t l∆∞·ª£ng n·ªôi dung</strong> - hashtag ch·ªâ l√† c√¥ng c·ª• h·ªó tr·ª£.
                                    </div>
                                </div>
                            </div>

                            <!-- FAQ 12 -->
                            <div class="accordion-item border rounded-3 mb-3 shadow-sm">
                                <h3 class="accordion-header">
                                    <button class="accordion-button collapsed fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#faq12">
                                        C√≥ n√™n d√πng hashtag b·∫±ng ti·∫øng Vi·ªát hay ti·∫øng Anh?
                                    </button>
                                </h3>
                                <div id="faq12" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        T√πy thu·ªôc v√†o <strong>ƒë·ªëi t∆∞·ª£ng m·ª•c ti√™u</strong> c·ªßa b·∫°n:
                                        <ul class="mt-2 mb-0">
                                            <li><strong>Hashtag ti·∫øng Vi·ªát:</strong> Ph√π h·ª£p n·∫øu b·∫°n target kh√°n gi·∫£ Vi·ªát Nam (v√≠ d·ª•: #dulich, #giaodu—Å, #amthuc)</li>
                                            <li><strong>Hashtag ti·∫øng Anh:</strong> Ph√π h·ª£p n·∫øu mu·ªën ti·∫øp c·∫≠n ƒë·ªëi t∆∞·ª£ng qu·ªëc t·∫ø (v√≠ d·ª•: #travel, #education, #food)</li>
                                        </ul>
                                        Chi·∫øn l∆∞·ª£c t·ªët nh·∫•t l√† <strong>k·∫øt h·ª£p c·∫£ hai</strong>: 3-4 hashtag ti·∫øng Vi·ªát + 2-3 hashtag ti·∫øng Anh ƒë·ªÉ maximize reach c·∫£ trong l·∫´n ngo√†i n∆∞·ªõc.
                                    </div>
                                </div>
                            </div>

                            <!-- FAQ 13 -->
                            <div class="accordion-item border rounded-3 mb-3 shadow-sm">
                                <h3 class="accordion-header">
                                    <button class="accordion-button collapsed fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#faq13">
                                        L√†m sao bi·∫øt hashtag n√†o ph√π h·ª£p v·ªõi n·ªôi dung c·ªßa m√¨nh?
                                    </button>
                                </h3>
                                <div id="faq13" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        TrendTag gi√∫p b·∫°n d·ªÖ d√†ng t√¨m hashtag ph√π h·ª£p qua 3 b∆∞·ªõc:
                                        <ol class="mt-2 mb-0">
                                            <li><strong>Ch·ªçn ch·ªß ƒë·ªÅ:</strong> L·ªçc hashtag theo 16+ ch·ªß ƒë·ªÅ (Gi√°o D·ª•c, Du L·ªãch, Th·ªùi Trang, v.v.)</li>
                                            <li><strong>Xem m·ª©c ƒë·ªô c·∫°nh tranh:</strong> Ch·ªçn hashtag c√≥ m·ª©c ƒë·ªô Th·∫•p-Trung B√¨nh</li>
                                            <li><strong>Ki·ªÉm tra s·ªë l∆∞·ª£t xem:</strong> Ch·ªçn hashtag c√≥ 100K-5M l∆∞·ª£t xem cho t·ª∑ l·ªá viral t·ªët nh·∫•t</li>
                                        </ol>
                                        B·∫°n c≈©ng c√≥ th·ªÉ s·ª≠ d·ª•ng thanh t√¨m ki·∫øm ƒë·ªÉ t√¨m hashtag c·ª• th·ªÉ v√† xem ph√¢n t√≠ch chi ti·∫øt.
                                    </div>
                                </div>
                            </div>

                            <!-- FAQ 14 -->
                            <div class="accordion-item border rounded-3 mb-3 shadow-sm">
                                <h3 class="accordion-header">
                                    <button class="accordion-button collapsed fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#faq14">
                                        C√≥ n√™n d√πng c√πng m·ªôt b·ªô hashtag cho m·ªçi video?
                                    </button>
                                </h3>
                                <div id="faq14" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        <strong>Kh√¥ng n√™n!</strong> M·ªói video n√™n c√≥ b·ªô hashtag ri√™ng bi·ªát ph√π h·ª£p v·ªõi n·ªôi dung c·ª• th·ªÉ.
                                        S·ª≠ d·ª•ng c√πng m·ªôt b·ªô hashtag cho m·ªçi video c√≥ th·ªÉ:
                                        <ul class="mt-2 mb-0">
                                            <li>L√†m gi·∫£m hi·ªáu qu·∫£ ti·∫øp c·∫≠n (thu·∫≠t to√°n TikTok ph√°t hi·ªán pattern l·∫∑p l·∫°i)</li>
                                            <li>Kh√¥ng t·ªëi ∆∞u cho t·ª´ng lo·∫°i n·ªôi dung kh√°c nhau</li>
                                            <li>B·ªè l·ª° c∆° h·ªôi t·ª´ hashtag trending m·ªõi</li>
                                        </ul>
                                        H√£y d√†nh 2-3 ph√∫t ƒë·ªÉ ch·ªçn hashtag ph√π h·ª£p cho m·ªói video b·∫±ng TrendTag!
                                    </div>
                                </div>
                            </div>

                            <!-- FAQ 15 -->
                            <div class="accordion-item border rounded-3 mb-3 shadow-sm">
                                <h3 class="accordion-header">
                                    <button class="accordion-button collapsed fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#faq15">
                                        TrendTag c√≥ h·ªó tr·ª£ c√°c n·ªÅn t·∫£ng kh√°c ngo√†i TikTok kh√¥ng?
                                    </button>
                                </h3>
                                <div id="faq15" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        Hi·ªán t·∫°i, TrendTag <strong>t·∫≠p trung 100% v√†o TikTok</strong> ƒë·ªÉ mang l·∫°i d·ªØ li·ªáu ch√≠nh x√°c v√† chuy√™n s√¢u nh·∫•t cho creator TikTok Vi·ªát Nam.
                                        Tuy nhi√™n, nhi·ªÅu hashtag trending tr√™n TikTok c≈©ng ho·∫°t ƒë·ªông t·ªët tr√™n Instagram Reels v√† YouTube Shorts.
                                        Trong t∆∞∆°ng lai, ch√∫ng t√¥i c√≥ k·∫ø ho·∫°ch m·ªü r·ªông sang c√°c n·ªÅn t·∫£ng video ng·∫Øn kh√°c d·ª±a tr√™n nhu c·∫ßu c·ªßa c·ªông ƒë·ªìng.
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- CTA after FAQ -->
                        <div class="alert alert-primary border-0 shadow-sm mt-4 rounded-4" role="alert">
                            <div class="d-flex align-items-start">
                                <i class="bi bi-lightbulb-fill me-3 mt-1" style="font-size: 1.5rem;"></i>
                                <div>
                                    <h6 class="fw-bold mb-2">V·∫´n c√≤n th·∫Øc m·∫Øc?</h6>
                                    <p class="mb-0 small">
                                        Kh√°m ph√° ngay top 10 hashtag trending h√¥m nay v√† b·∫Øt ƒë·∫ßu tƒÉng view cho video c·ªßa b·∫°n!
                                        <a href="#hashtagTable" class="text-decoration-none fw-bold ms-1">Xem Top 10 Hashtag Trending ‚Üí</a>
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Recent Blog Posts Section -->
        @if (Model.RecentBlogPosts != null && Model.RecentBlogPosts.Any())
        {
            <div class="blog-posts-section bg-gradient-vertical-light py-5">
                <div class="container">
                    <div class="row mb-4">
                        <div class="col-12 text-center">
                            <h2 class="fw-bold mb-3">
                                <i class="bi bi-journal-text text-primary me-2"></i>
                                B√†i Vi·∫øt M·ªõi Nh·∫•t
                            </h2>
                            <p class="text-muted">Kh√°m ph√° c√°c tips, chi·∫øn l∆∞·ª£c v√† ph√¢n t√≠ch chuy√™n s√¢u v·ªÅ hashtag TikTok</p>
                        </div>
                    </div>
                    <div class="row g-4">
                        @foreach (var post in Model.RecentBlogPosts)
                        {
                            <div class="col-md-4">
                                <div class="card h-100 shadow-sm border-0 rounded-4 overflow-hidden hover-lift">
                                    @if (!string.IsNullOrEmpty(post.FeaturedImage))
                                    {
                                        <img src="@post.FeaturedImage" class="card-img-top blog-img-cover" alt="@post.Title">
                                    }
                                    else
                                    {
                                        <div class="card-img-top blog-placeholder"></div>
                                    }
                                    <div class="card-body d-flex flex-column">
                                        <div class="mb-2">
                                            @if (post.Category != null)
                                            {
                                                <span class="badge bg-primary bg-opacity-10 text-primary px-3 py-2 rounded-pill">
                                                    @post.Category.DisplayNameVi
                                                </span>
                                            }
                                        </div>
                                        <h5 class="card-title fw-bold mb-3">
                                            <a href="/blog/@post.Slug" class="text-decoration-none text-dark stretched-link">
                                                @post.Title
                                            </a>
                                        </h5>
                                        @if (!string.IsNullOrEmpty(post.Excerpt))
                                        {
                                            <p class="card-text text-muted small mb-3 flex-grow-1">
                                                @post.Excerpt
                                            </p>
                                        }
                                        <div class="d-flex justify-content-between align-items-center text-muted small mt-auto">
                                            <span>
                                                <i class="bi bi-person-circle me-1"></i>
                                                @post.Author
                                            </span>
                                            <span>
                                                <i class="bi bi-clock me-1"></i>
                                                @post.ReadingTimeMinutes ph√∫t ƒë·ªçc
                                            </span>
                                        </div>
                                        @if (post.PublishedAt.HasValue)
                                        {
                                            <div class="text-muted small mt-2">
                                                <i class="bi bi-calendar3 me-1"></i>
                                                @post.PublishedAt.Value.ToString("dd/MM/yyyy")
                                            </div>
                                        }
                                    </div>
                                </div>
                            </div>
                        }
                    </div>
                    <div class="row mt-5">
                        <div class="col-12 text-center">
                            <a href="/blog" class="btn btn-gradient-primary btn-lg px-5 py-3 shadow-sm">
                                <i class="bi bi-arrow-right-circle me-2"></i>
                                Xem T·∫•t C·∫£ B√†i Vi·∫øt
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        }

        <!-- SEO Content Section -->
        <div class="seo-content bg-gradient-vertical-dark mt-5 py-5">
            <div class="container">
                <div class="row">
                    <div class="col-lg-10 mx-auto">
                        <h2 class="mb-4">TrendTag - C√¥ng C·ª• T√¨m Hashtag Trending TikTok H√†ng ƒê·∫ßu Vi·ªát Nam</h2>

                        <h3 class="h5 fw-bold mt-4 mb-3">Hashtag TikTok Trending L√† G√¨?</h3>
                        <p>
                            <strong>Hashtag trending TikTok</strong> l√† nh·ªØng hashtag ƒëang ƒë∆∞·ª£c s·ª≠ d·ª•ng ph·ªï bi·∫øn nh·∫•t tr√™n n·ªÅn t·∫£ng TikTok t·∫°i m·ªôt th·ªùi ƒëi·ªÉm c·ª• th·ªÉ.
                            Nh·ªØng hashtag n√†y gi√∫p video c·ªßa b·∫°n ti·∫øp c·∫≠n nhi·ªÅu ng∆∞·ªùi xem h∆°n, tƒÉng t∆∞∆°ng t√°c v√† c√≥ c∆° h·ªôi xu·∫•t hi·ªán tr√™n trang For You (FYP).
                            TrendTag c·∫≠p nh·∫≠t <strong>hashtag TikTok Vi·ªát Nam</strong> m·ªói 6 gi·ªù ƒë·ªÉ b·∫°n lu√¥n b·∫Øt k·ªãp xu h∆∞·ªõng m·ªõi nh·∫•t.
                        </p>

                        <h3 class="h5 fw-bold mt-4 mb-3">T·∫°i Sao N√™n S·ª≠ D·ª•ng TrendTag?</h3>
                        <div class="row">
                            <div class="col-md-6">
                                <ul class="list-unstyled">
                                    <li class="mb-2"><i class="bi bi-check-circle-fill text-success me-2"></i><strong>D·ªØ li·ªáu realtime:</strong> C·∫≠p nh·∫≠t m·ªói 6 gi·ªù t·ª´ TikTok</li>
                                    <li class="mb-2"><i class="bi bi-check-circle-fill text-success me-2"></i><strong>Ph√¢n t√≠ch chuy√™n s√¢u:</strong> Xem ƒë·ªô kh√≥ c·∫°nh tranh, l∆∞·ª£t xem, s·ªë b√†i ƒëƒÉng</li>
                                    <li class="mb-2"><i class="bi bi-check-circle-fill text-success me-2"></i><strong>Theo d√µi xu h∆∞·ªõng:</strong> Bi·∫øt hashtag n√†o ƒëang l√™n, hashtag n√†o ƒëang xu·ªëng</li>
                                </ul>
                            </div>
                            <div class="col-md-6">
                                <ul class="list-unstyled">
                                    <li class="mb-2"><i class="bi bi-check-circle-fill text-success me-2"></i><strong>Ph√¢n lo·∫°i theo ng√†nh:</strong> 16+ ch·ªß ƒë·ªÅ t·ª´ Gi√°o D·ª•c ƒë·∫øn Gi·∫£i Tr√≠</li>
                                    <li class="mb-2"><i class="bi bi-check-circle-fill text-success me-2"></i><strong>Ho√†n to√†n mi·ªÖn ph√≠:</strong> Kh√¥ng gi·ªõi h·∫°n tra c·ª©u, kh√¥ng c·∫ßn ƒëƒÉng k√Ω</li>
                                    <li class="mb-2"><i class="bi bi-check-circle-fill text-success me-2"></i><strong>D·ªÖ s·ª≠ d·ª•ng:</strong> Giao di·ªán ƒë∆°n gi·∫£n, t√¨m ki·∫øm nhanh ch√≥ng</li>
                                </ul>
                            </div>
                        </div>

                        <h3 class="h5 fw-bold mt-4 mb-3">C√°ch Ch·ªçn Hashtag TikTok Hi·ªáu Qu·∫£</h3>
                        <p>ƒê·ªÉ t·ªëi ∆∞u video TikTok v√† <strong>tƒÉng view hi·ªáu qu·∫£</strong>, b·∫°n n√™n k·∫øt h·ª£p:</p>
                        <ol>
                            <li class="mb-2"><strong>2-3 hashtag trending:</strong> Hashtag ƒëang hot c√≥ l∆∞·ª£t xem cao (ƒë·ªô c·∫°nh tranh cao)</li>
                            <li class="mb-2"><strong>3-4 hashtag ng√°ch:</strong> Hashtag li√™n quan ƒë·∫øn n·ªôi dung c·ª• th·ªÉ c·ªßa video</li>
                            <li class="mb-2"><strong>1-2 hashtag brand:</strong> Hashtag ri√™ng c·ªßa b·∫°n ho·∫∑c th∆∞∆°ng hi·ªáu</li>
                        </ol>
                        <p class="text-muted small">
                            <i class="bi bi-lightbulb-fill text-warning me-1"></i>
                            <strong>M·∫πo:</strong> Ch·ªçn hashtag c√≥ ƒë·ªô c·∫°nh tranh "Th·∫•p" ho·∫∑c "Trung B√¨nh" n·∫øu k√™nh c·ªßa b·∫°n c√≤n nh·ªè ƒë·ªÉ d·ªÖ l√™n top h∆°n.
                        </p>

                        <h3 class="h5 fw-bold mt-4 mb-3">C√°c Ch·ªß ƒê·ªÅ Hashtag Ph·ªï Bi·∫øn Nh·∫•t</h3>
                        <div class="row mt-3">
                            <div class="col-md-6">
                                <ul class="list-unstyled category-links">
                                    <li class="mb-2"><i class="bi bi-arrow-right-circle text-primary me-2"></i><a href="/chu-de/giao-duc" class="text-decoration-none">Hashtag Gi√°o D·ª•c Trending</a></li>
                                    <li class="mb-2"><i class="bi bi-arrow-right-circle text-primary me-2"></i><a href="/chu-de/tin-tuc-giai-tri" class="text-decoration-none">Hashtag Tin T·ª©c & Gi·∫£i Tr√≠</a></li>
                                    <li class="mb-2"><i class="bi bi-arrow-right-circle text-primary me-2"></i><a href="/chu-de/thoi-trang-phu-kien" class="text-decoration-none">Hashtag Th·ªùi Trang & Ph·ª• Ki·ªán</a></li>
                                    <li class="mb-2"><i class="bi bi-arrow-right-circle text-primary me-2"></i><a href="/chu-de/lam-dep-cham-soc-ca-nhan" class="text-decoration-none">Hashtag L√†m ƒê·∫πp</a></li>
                                    <li class="mb-2"><i class="bi bi-arrow-right-circle text-primary me-2"></i><a href="/chu-de/thuc-pham-do-uong" class="text-decoration-none">Hashtag Th·ª±c Ph·∫©m & ƒê·ªì U·ªëng</a></li>
                                </ul>
                            </div>
                            <div class="col-md-6">
                                <ul class="list-unstyled category-links">
                                    <li class="mb-2"><i class="bi bi-arrow-right-circle text-primary me-2"></i><a href="/chu-de/du-lich" class="text-decoration-none">Hashtag Du L·ªãch Trending</a></li>
                                    <li class="mb-2"><i class="bi bi-arrow-right-circle text-primary me-2"></i><a href="/chu-de/the-thao-ngoai-troi" class="text-decoration-none">Hashtag Th·ªÉ Thao & Ngo√†i Tr·ªùi</a></li>
                                    <li class="mb-2"><i class="bi bi-arrow-right-circle text-primary me-2"></i><a href="/chu-de/cong-nghe-dien-tu" class="text-decoration-none">Hashtag C√¥ng Ngh·ªá & ƒêi·ªán T·ª≠</a></li>
                                    <li class="mb-2"><i class="bi bi-arrow-right-circle text-primary me-2"></i><a href="/chu-de/phuong-tien-giao-thong" class="text-decoration-none">Hashtag Ph∆∞∆°ng Ti·ªán & Giao Th√¥ng</a></li>
                                    <li class="mb-2"><i class="bi bi-arrow-right-circle text-primary me-2"></i><a href="/chu-de/tro-choi" class="text-decoration-none">Hashtag Gaming & Tr√≤ Ch∆°i</a></li>
                                </ul>
                            </div>
                        </div>

                        <div class="alert alert-info mt-4" role="alert">
                            <i class="bi bi-info-circle-fill me-2"></i>
                            <strong>B·∫Øt ƒë·∫ßu ngay:</strong> S·ª≠ d·ª•ng √¥ t√¨m ki·∫øm ph√≠a tr√™n ƒë·ªÉ t√¨m hashtag ph√π h·ª£p v·ªõi n·ªôi dung c·ªßa b·∫°n,
                            ho·∫∑c ch·ªçn ch·ªß ƒë·ªÅ t·ª´ dropdown ƒë·ªÉ xem Top 10 hashtag trending trong ng√†nh.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        // Category filter function - AJAX load with URL update
        async function filterByCategory(select) {
            const selectedOption = select.options[select.selectedIndex];
            const categoryId = selectedOption.value;
            const slug = selectedOption.getAttribute('data-slug');
            const categoryName = selectedOption.getAttribute('data-name');

            // Update URL without reload using History API
            let newUrl = '/';
            if (slug && slug !== '') {
                newUrl = '/chu-de/' + slug;
            }
            window.history.pushState({ categoryId: categoryId }, '', newUrl);

            // Update category label
            updateCategoryLabel(categoryName);

            // Load top 10 hashtags via AJAX
            await loadTopHashtags(categoryId);
        }

        // Update category label badge
        function updateCategoryLabel(categoryName) {
            const titleContainer = document.querySelector('.card-header .d-flex.align-items-center.gap-3');
            let labelElement = document.getElementById('categoryLabel');

            if (categoryName && categoryName !== '') {
                if (!labelElement) {
                    // Create new label if doesn't exist
                    labelElement = document.createElement('span');
                    labelElement.id = 'categoryLabel';
                    labelElement.className = 'badge bg-white bg-opacity-25 px-3 py-2';
                    titleContainer.appendChild(labelElement);
                }
                labelElement.innerHTML = '<i class="bi bi-tag-fill me-1"></i>' + htmlEscape(categoryName);
            } else {
                // Remove label if "T·∫•t C·∫£ Ch·ªß ƒê·ªÅ"
                if (labelElement) {
                    labelElement.remove();
                }
            }
        }

        // Load top 10 hashtags via AJAX
        async function loadTopHashtags(categoryId) {
            try {
                const url = categoryId ? `/Home/GetTopHashtags?categoryId=${categoryId}` : '/Home/GetTopHashtags';
                const response = await fetch(url);

                if (!response.ok) {
                    console.error('Failed to load hashtags');
                    return;
                }

                const hashtags = await response.json();
                renderHashtagTable(hashtags);
            } catch (error) {
                console.error('Error loading hashtags:', error);
            }
        }

        // Render hashtag table
        function renderHashtagTable(hashtags) {
            const tbody = document.querySelector('#hashtagTable tbody');

            if (!hashtags || hashtags.length === 0) {
                tbody.innerHTML = `
                    <tr>
                        <td colspan="7" class="text-center py-5 text-muted">
                            <i class="bi bi-inbox fs-1 d-block mb-3"></i>
                            <p>Ch∆∞a c√≥ hashtag trending n√†o</p>
                        </td>
                    </tr>
                `;
                return;
            }

            tbody.innerHTML = hashtags.map((hashtag, index) => {
                const viewCountFormatted = formatNumber(hashtag.latestViewCount);
                const postCountFormatted = formatNumber(hashtag.latestPostCount);
                const difficultyBadge = getDifficultyBadge(hashtag.difficultyLevel);
                const difficultyVi = getDifficultyVi(hashtag.difficultyLevel);
                const rankBadge = index < 3 ? 'badge bg-warning text-dark' : 'badge bg-secondary';

                return `
                    <tr style="cursor: pointer;" onclick="window.location.href='/hashtag/${encodeURIComponent(hashtag.tag)}'">
                        <td class="ps-4 fw-bold text-muted">${index + 1}</td>
                        <td>
                            <a href="/hashtag/${encodeURIComponent(hashtag.tag)}" class="text-decoration-none">
                                <strong class="text-primary fs-5">${htmlEscape(hashtag.tagDisplay)}</strong>
                                <div class="text-muted small">
                                    <i class="bi bi-bar-chart"></i> ${hashtag.totalAppearances} l·∫ßn xu·∫•t hi·ªán
                                </div>
                            </a>
                        </td>
                        <td class="text-center">
                            ${hashtag.categoryName ? `<span class="badge bg-info">${htmlEscape(hashtag.categoryName)}</span>` : '<span class="text-muted">-</span>'}
                        </td>
                        <td class="text-center">
                            <strong class="text-danger">${viewCountFormatted}</strong>
                        </td>
                        <td class="text-center">
                            <strong class="text-success">${postCountFormatted}</strong>
                        </td>
                        <td class="text-center">
                            ${hashtag.difficultyLevel ? `<span class="${difficultyBadge}">${difficultyVi}</span>` : '<span class="text-muted">-</span>'}
                        </td>
                        <td class="text-center">
                            <span class="${rankBadge}">#${hashtag.bestRank}</span>
                        </td>
                    </tr>
                `;
            }).join('');
        }

        // Helper functions
        function formatNumber(num) {
            if (!num || num <= 0) return '-';
            if (num >= 1000000000) return (num / 1000000000).toFixed(1) + 'B';
            if (num >= 1000000) return (num / 1000000).toFixed(1) + 'M';
            if (num >= 1000) return (num / 1000).toFixed(1) + 'K';
            return num.toLocaleString();
        }

        function getDifficultyBadge(level) {
            const badges = {
                'Easy': 'badge bg-success',
                'Medium': 'badge bg-warning',
                'Hard': 'badge bg-danger',
                'Very Hard': 'badge bg-dark'
            };
            return badges[level] || 'badge bg-secondary';
        }

        function getDifficultyVi(level) {
            const translations = {
                'Easy': 'Th·∫•p',
                'Medium': 'Trung B√¨nh',
                'Hard': 'Cao',
                'Very Hard': 'R·∫•t Cao'
            };
            return translations[level] || level;
        }

        function htmlEscape(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        // Handle browser back/forward buttons
        window.addEventListener('popstate', function(event) {
            if (event.state && event.state.categoryId !== undefined) {
                const select = document.getElementById('categorySelect');
                select.value = event.state.categoryId || '';
                loadTopHashtags(event.state.categoryId || null);
            }
        });

        const searchInput = document.getElementById('searchInput');
        const suggestionsDropdown = document.getElementById('suggestionsDropdown');
        let debounceTimer;

        searchInput.addEventListener('input', function() {
            clearTimeout(debounceTimer);
            const query = this.value.trim();

            if (query.length < 2) {
                suggestionsDropdown.style.display = 'none';
                return;
            }

            debounceTimer = setTimeout(() => {
                fetchSuggestions(query);
            }, 300);
        });

        searchInput.addEventListener('focus', function() {
            if (this.value.trim().length >= 2) {
                fetchSuggestions(this.value.trim());
            }
        });

        document.addEventListener('click', function(e) {
            if (!searchInput.contains(e.target) && !suggestionsDropdown.contains(e.target)) {
                suggestionsDropdown.style.display = 'none';
            }
        });

        async function fetchSuggestions(query) {
            try {
                const response = await fetch(`/api/hashtags/suggest?q=${encodeURIComponent(query)}`);
                if (!response.ok) {
                    suggestionsDropdown.style.display = 'none';
                    return;
                }

                const suggestions = await response.json();

                if (!suggestions || suggestions.length === 0) {
                    suggestionsDropdown.style.display = 'none';
                    return;
                }

                suggestionsDropdown.innerHTML = suggestions.map(item => `
                    <a href="/hashtag/${encodeURIComponent(item.tag)}" class="list-group-item list-group-item-action border-0 border-start border-3 border-white hover-border-primary">
                        <div class="d-flex justify-content-between align-items-center py-2">
                            <div>
                                <strong class="text-primary">${escapeHtml(item.tagDisplay)}</strong>
                                <small class="text-muted ms-2 d-block mt-1">
                                    <i class="bi bi-trophy"></i> H·∫°ng ${item.bestRank} ¬∑
                                    <i class="bi bi-bar-chart"></i> ${item.totalAppearances} l·∫ßn xu·∫•t hi·ªán
                                </small>
                            </div>
                            <span class="badge bg-primary rounded-pill">${item.sources.length} ngu·ªìn</span>
                        </div>
                    </a>
                `).join('');

                suggestionsDropdown.style.display = 'block';
            } catch (error) {
                console.error('Error fetching suggestions:', error);
                suggestionsDropdown.style.display = 'none';
            }
        }

        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }
    </script>
}

<style>
    .home-hero {
        min-height: 70vh;
        display: flex;
        align-items: center;
        background: linear-gradient(180deg, #f8f9fa 0%, #ffffff 100%);
    }

    .search-container input:focus {
        box-shadow: none !important;
    }

    .search-container .input-group:focus-within {
        box-shadow: 0 10px 30px rgba(13, 110, 253, 0.3) !important;
        transform: translateY(-2px);
        transition: all 0.3s ease;
    }

    #suggestionsDropdown {
        max-height: 400px;
        overflow-y: auto;
        border: none;
    }

    #suggestionsDropdown .list-group-item {
        cursor: pointer;
        transition: all 0.2s ease;
    }

    #suggestionsDropdown .list-group-item:hover {
        background-color: #f8f9fa;
        border-left-color: #0d6efd !important;
        transform: translateX(5px);
    }

    .hover-border-primary:hover {
        border-left-color: #0d6efd !important;
    }

    .feature-icon {
        transition: transform 0.3s ease;
    }

    .card:hover .feature-icon {
        transform: scale(1.1) rotate(5deg);
    }

    /* Mobile responsive search button */
    /* Feature card hover effect */
    .feature-card-hover:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3) !important;
    }

    @@media (max-width: 576px) {
        .search-container {
            max-width: 100% !important;
            padding: 0 15px;
        }

        /* Reduce search input group height on mobile */
        .input-group {
            height: 55px !important;
        }

        /* Make search button smaller, hide text on mobile */
        .input-group .btn-primary {
            padding-left: 1.25rem !important;
            padding-right: 1.25rem !important;
            font-size: 0;
        }

        .input-group .btn-primary .bi-search {
            font-size: 1.25rem;
            margin-right: 0 !important;
        }

        .input-group .form-control {
            font-size: 0.95rem !important;
        }

        .input-group .input-group-text {
            padding-left: 1rem !important;
        }

        /* Hide "ƒêa Ngu·ªìn D·ªØ Li·ªáu" card on mobile */
        .row.mt-5.g-4 .col-md-4:nth-child(2) {
            display: none !important;
        }

        /* Make remaining feature cards more compact on mobile */
        .feature-card-hover .card-body {
            padding: 1.5rem 1rem !important;
        }

        .feature-card-hover .feature-icon {
            width: 50px !important;
            height: 50px !important;
            margin-bottom: 0.75rem !important;
        }

        .feature-card-hover .feature-icon i {
            font-size: 1.5rem !important;
        }

        .feature-card-hover h5 {
            font-size: 1rem !important;
            margin-bottom: 0.5rem !important;
        }

        .feature-card-hover p {
            font-size: 0.85rem !important;
        }

        .feature-card-hover small {
            font-size: 0.75rem !important;
        }
    }
</style>
